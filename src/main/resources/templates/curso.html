<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Cargar Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
  <!-- Cargar Popper.js -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <!-- Cargar Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Cargar mis estilos y tema -->
  <link rel="stylesheet" type="text/css" href="../css/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="../css/style.css" />
  <title>Students</title>
</head>

<body>
  <section class="container-fluid bg-light border-bottom py-2">
    <div class="d-flex justify-content-between align-items-center px-3">
      <button class="btn btn-outline-primary d-md-none" type="button" data-bs-toggle="offcanvas"
        data-bs-target="#MyOffcanva">
        <i class="bi bi-list fs-4"></i>
      </button>
      <h1 class="m-0 fs-3 text-primary">
        <a href="../html/dashboard.html" class="text-primary text-decoration-none">ACADEMIX</a>
      </h1>
      <img src="../pictures/logo/2-transparent.png" alt="Logo" width="60" class="img-fluid" />
    </div>
  </section>
  <section>
    <!-- Offcanvas solo visible en móvil -->
    <div class="offcanvas offcanvas-start d-md-none" tabindex="-1" id="MyOffcanva">
      <div class="offcanvas-header">
        <h1 class="offcanvas-title fs-4">Menú</h1>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a href="#" class="nav-link text-primary d-flex align-items-center gap-2">
              <i class="bi bi-person"></i> Alumnos
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link text-primary d-flex align-items-center gap-2">
              <i class="bi bi-pencil-square"></i> Inscripciones
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link text-primary d-flex align-items-center gap-2">
              <i class="bi bi-bar-chart"></i> Reportes
            </a>
          </li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Modal editar curso -->
  <div class="modal" id="EditCourse">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h2 class="modal-title">Editar Curso</h2>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <!-- Modal Body -->
        <div class="modal-body">
          <!-- Información del curso -->
          <div class="mb-3">
            <label class="form-label"><strong>Info</strong></label>
            <div class="input-group">
              <input type="text" class="form-control" id="courseName" name="courseName" value="Nombre del curso actual"
                aria-label="Nombre" maxlength="20" />
              <input type="text" class="form-control" id="courseDescription" name="courseDescription"
                value="Descripción actual del curso" aria-label="Descripción" maxlength="50" />
            </div>
          </div>

          <!-- Nivel de inglés -->
          <div class="mb-3">
            <label class="form-label fw-bold">Nivel</label>
            <div>
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="radioA1" name="nivelIngles" value="A1" checked />
                <label class="form-check-label" for="radioA1">A1</label>
              </div>

              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="radioA2" name="nivelIngles" value="A2" />
                <label class="form-check-label" for="radioA2">A2</label>
              </div>

              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="radioB1" name="nivelIngles" value="B1" />
                <label class="form-check-label" for="radioB1">B1</label>
              </div>

              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="radioB2" name="nivelIngles" value="B2" />
                <label class="form-check-label" for="radioB2">B2</label>
              </div>

              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="radioC1" name="nivelIngles" value="C1" />
                <label class="form-check-label" for="radioC1">C1</label>
              </div>

              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" id="radioC2" name="nivelIngles" value="C2" />
                <label class="form-check-label" for="radioC2">C2</label>
              </div>
            </div>
          </div>

          <!-- Fechas -->
          <div class="mb-3">
            <label for="fechaInicio" class="form-label fw-bold">Fecha inicial del curso:</label>
            <input type="date" id="fechaInicio" name="fechaInicio" class="form-control" value="2023-01-01" required />
          </div>

          <div class="mb-3">
            <label for="fechaFin" class="form-label fw-bold">Fecha de finalización del curso:</label>
            <input type="date" id="fechaFin" name="fechaFin" class="form-control" value="2023-12-01" required />
          </div>

          <!-- Nombre del profesor/a -->
          <div class="mb-3">
            <label class="form-label"><strong>Nombre del profesor/a</strong></label>
            <input type="text" class="form-control" id="profesorName" name="profesorName"
              value="Nombre del profesor/a actual" required placeholder="Nombre" aria-label="Nombre" maxlength="50" />
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="mySwitch" name="status" value="activo" checked />
            <label class="form-check-label" for="mySwitch">
              <span id="statusLabel">Activo</span>
            </label>
          </div>
        </div>

        <!-- Modal Footer -->
        <div class="modal-footer">
          <button type="submit" class="btn btn-outline-primary" data-bs-dismiss="modal">
            Guardar cambios
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex">
    <!-- Aside -->
    <aside class="d-none d-md-flex flex-column bg-light border-end text-primary p-3 vh-100">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a href="../html/students.html" class="nav-link text-primary d-flex align-items-center gap-2">
            <i class="bi bi-person"></i> Alumnos
          </a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link text-primary d-flex align-items-center gap-2">
            <i class="bi bi-pencil-square"></i> Inscripciones
          </a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link text-primary d-flex align-items-center gap-2">
            <i class="bi bi-bar-chart"></i> Reportes
          </a>
        </li>
      </ul>
    </aside>

    <div class="flex flex-column container-fluid p-4">
      <div class="w-100">
        <div class="position-relative text-white rounded-3 overflow-hidden" style="height: 250px">
          <!-- Imagen de fondo -->
          <img th:src="@{${course.imageUrl}}" alt="Imagen del curso" class="w-100 h-100 position-absolute top-0 start-0"
            style="object-fit: cover; z-index: 1" />

          <!-- Capa-->
          <div class="position-absolute top-0 start-0 w-100 h-100 bg-primary-opacity" style="z-index: 1"></div>

          <!-- Contenido sobre la imagen -->
          <div class="position-relative z-3 p-4 h-100 d-flex flex-column justify-content-between">
            <div>
              <h2 class="card-title fs-4 mb-1" th:text="${course.name}">Clase CAE</h2>
              <h6 class="mb-2 text-white-50" th:text="${course.description}">Grupo de Bachillerato</h6>
              <h3 class="fs-5">C1</h3>
            </div>
            <div class="d-flex justify-content-between align-items-center">
              <div class="d-flex align-items-center">
                <i class="bi bi-people-fill me-2 fs-4"></i>
                <h4 class="mb-0 fs-5" th:text="${course.numOfStudents}">15</h4>
              </div>
              <div class="d-flex gap-3">
                <!-- Ícono de editar que abre el modal -->
                <i class="bi bi-pencil-square fs-5 cursor-pointer" data-bs-toggle="modal" data-bs-target="#EditCourse"
                  id="editarCurso1"></i>
                <!-- Ícono de eliminar -->
                <i class="bi bi-trash-fill fs-5 text-secondary cursor-pointer"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <ul class="nav nav-tabs bg-light" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" id="info-tab" data-bs-toggle="tab" href="#info" role="tab" aria-controls="info"
            aria-selected="true">
            Info
          </a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="alumno-tab" data-bs-toggle="tab" href="#alumno" role="tab" aria-controls="alumno"
            aria-selected="false">
            Alumnos
          </a>
        </li>
      </ul>

      <!-- Envoltura pestañas-->
      <div class="tab-content" id="myTabContent">
        <!-- Pestaña Info -->
        <div class="tab-pane fade show active bg-light p-3" id="info" role="tabpanel" aria-labelledby="info-tab">
          <h2 class="text-primary fw-bold">
            Profesor/a: <span class="fw-normal" th:text="${course.teacher}"></span>
          </h2>
          <div class="mb-3">
            <label for="fechaCurso" class="form-label"><strong>Fecha de inicio del curso</strong></label>
            <input type="text" class="form-control" id="fechaCurso" th:value="${#dates.format(course.startDate, 'dd/MM/yyyy')}" readonly />
          </div>

          <label for="fechaCurso" class="form-label"><strong>Fecha final del curso</strong></label>
          <input type="text" class="form-control" id="fechaCurso" placeholder="2025-08-07" readonly />

          <div class="progress fw-bold fs-6" style="height: 40px">
            <div class="progress-bar progress-bar-striped bg-primary progress-bar-animated" style="width: 70%">
              Curso 60% completado
            </div>
          </div>

          <div class="mt-3">
            <p class="fw-bold">Estadística de notas</p>
            <div class="progress fw-bold fs-6" style="height: 40px">
              <div class="progress-bar bg-success" style="width: 60%">
                Aprobados
              </div>
              <div class="progress-bar bg-secondary" style="width: 40%">
                Suspensos
              </div>
            </div>
          </div>
        </div>

        <!-- Pestaña Alumnos -->
        <div class="tab-pane fade bg-light p-3 overflow-auto" style="height: 50vh" id="alumno" role="tabpanel"
          aria-labelledby="alumno-tab">
          <!--preguntar a rafa por el height-->
          <!--Envoltorio para overflow-->
          <div class="overflow-auto">
            <h2>Lista y Notas</h2>
            <div class="dropdown mb-3">
              <button type="button" class="btn btn-outline-primary dropdown-toggle" data-bs-toggle="dropdown">
                Ordenar Por...
              </button>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="#">Orden Alfabetico</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">Nota más alta a más baja<i class="bi bi-arrow-up"></i></a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">Nota más baja a más alta<i class="bi bi-arrow-down"></i></a>
                </li>
              </ul>
            </div>
            <div class="table-responsive">
              <table class="table table-borderless table-hover table-light">
                <thead>
                  <tr>
                    <th>Nombre</th>
                    <th>Apellidos</th>
                    <th>Email</th>
                    <th>Nota 1</th>
                    <th>Nota 2</th>
                    <th>Nota 3</th>
                    <th>Nota Media</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Fila 1 -->
                  <tr data-bs-toggle="collapse" data-bs-target="#collapseForm1">
                    <td>John</td>
                    <td>Doe</td>
                    <td>john@example.com</td>
                    <td>8</td>
                    <td>7</td>
                    <td>6</td>
                    <td>
                      <div class="progress" style="height: 20px">
                        <div class="progress-bar bg-success" style="width: 70%" role="progressbar" aria-valuenow="70"
                          aria-valuemin="0" aria-valuemax="100">
                          7.0
                        </div>
                      </div>
                    </td>
                  </tr>
                  <!-- Formulario acordeón para la fila 1 -->
                  <tr class="collapse" id="collapseForm1">
                    <td colspan="2">
                      <div class="card card-body">
                        <form action="#" method="POST">
                          <div class="mb-3">
                            <label for="nota1" class="form-label">Nota 1</label>
                            <input type="number" class="form-control" name="nota1" value="8" min="0" max="10"
                              required />
                          </div>
                          <div class="mb-3">
                            <label for="nota2" class="form-label">Nota 2</label>
                            <input type="number" class="form-control" name="nota2" value="7" min="0" max="10"
                              required />
                          </div>
                          <div class="mb-3">
                            <label for="nota3" class="form-label">Nota 3</label>
                            <input type="number" class="form-control" name="nota3" value="6" min="0" max="10"
                              required />
                          </div>
                          <div class="mb-3">
                            <label for="media" class="form-label">Nota Media</label>
                            <input type="text" class="form-control" name="media" value="7.0" readonly />
                          </div>
                          <button type="submit" class="btn btn-outline-primary">
                            Guardar
                          </button>
                        </form>
                      </div>
                    </td>
                  </tr>

                  <!-- Fila 2 -->
                  <tr data-bs-toggle="collapse" data-bs-target="#collapseForm2">
                    <td>Mary</td>
                    <td>Moe</td>
                    <td>mary@example.com</td>
                    <td>9</td>
                    <td>9</td>
                    <td>8</td>
                    <td>
                      <div class="progress" style="height: 20px">
                        <div class="progress-bar bg-success" style="width: 87%" role="progressbar" aria-valuenow="87"
                          aria-valuemin="0" aria-valuemax="100">
                          8.7
                        </div>
                      </div>
                    </td>
                  </tr>
                  <!-- Formulario acordeón para la fila 2 -->
                  <tr class="collapse" id="collapseForm2">
                    <td colspan="2">
                      <div class="card card-body">
                        <form action="#" method="POST">
                          <div class="mb-3">
                            <label for="nota1" class="form-label">Nota 1</label>
                            <input type="number" class="form-control" name="nota1" value="9" min="0" max="10"
                              required />
                          </div>
                          <div class="mb-3">
                            <label for="nota2" class="form-label">Nota 2</label>
                            <input type="number" class="form-control" name="nota2" value="9" min="0" max="10"
                              required />
                          </div>
                          <div class="mb-3">
                            <label for="nota3" class="form-label">Nota 3</label>
                            <input type="number" class="form-control" name="nota3" value="8" min="0" max="10"
                              required />
                          </div>
                          <div class="mb-3">
                            <label for="media" class="form-label">Nota Media</label>
                            <input type="text" class="form-control" name="media" value="8.7" readonly />
                          </div>
                          <button type="submit" class="btn btn-outline-primary">
                            Guardar
                          </button>
                        </form>
                      </div>
                    </td>
                  </tr>

                  <!-- Fila 3 -->
                  <tr data-bs-toggle="collapse" data-bs-target="#collapseForm3">
                    <td>July</td>
                    <td>Dooley</td>
                    <td>july@example.com</td>
                    <td>4</td>
                    <td>4</td>
                    <td>4</td>
                    <td>
                      <div class="progress" style="height: 20px">
                        <div class="progress-bar bg-danger" style="width: 40%" role="progressbar" aria-valuenow="40"
                          aria-valuemin="0" aria-valuemax="100">
                          4.0
                        </div>
                      </div>
                    </td>
                  </tr>
                  <!-- Formulario acordeón para la fila 3 -->
                  <tr class="collapse" id="collapseForm3">
                    <td colspan="2">
                      <div class="card card-body">
                        <form action="#" method="POST">
                          <div class="mb-3">
                            <label for="nota1" class="form-label">Nota 1</label>
                            <input type="number" class="form-control" name="nota1" value="4" min="0" max="10"
                              required />
                          </div>
                          <div class="mb-3">
                            <label for="nota2" class="form-label">Nota 2</label>
                            <input type="number" class="form-control" name="nota2" value="4" min="0" max="10"
                              required />
                          </div>
                          <div class="mb-3">
                            <label for="nota3" class="form-label">Nota 3</label>
                            <input type="number" class="form-control" name="nota3" value="4" min="0" max="10"
                              required />
                          </div>
                          <div class="mb-3">
                            <label for="media" class="form-label">Nota Media</label>
                            <input type="text" class="form-control" name="media" value="4.0" readonly />
                          </div>
                          <button type="submit" class="btn btn-outline-primary">
                            Guardar
                          </button>
                        </form>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>